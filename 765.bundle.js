"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[765],{765:(e,t,n)=>{n.r(t),n.d(t,{ExpressionEditorComponent:()=>l});var r=n(608),a=n(684),o=n(57),p=n(45),i=n(833),s=n(519);let l=(()=>{let e,t,l=[(0,a.uAl)({selector:"expression-editor",zone:"manual",compiledTemplate:{children:[{children:[{name:"textContent",value:"\n\t\t.content {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.box {\n\t\t\tdisplay: flex;\n\t\t\tmin-height: min-content;\n\t\t}\n\n\t\t.column {\n\t\t\tpadding: 20px;\n\t\t\tborder-right: 1px solid #999;\n\t\t\toverflow-y: auto;\n\t\t\tmax-width: 700px;\n\t\t}\n\n\t\t.column-200 {\n\t\t\twidth: 200px;\n\t\t}\n\n\t\ttextarea {\n\t\t\theight: 750px;\n\t\t\toverflow: unset !important;\n\t\t}\n\t",type:"TextContent"}],tagName:"style",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"},{attributes:[{name:"class",value:"content w-100 h-100",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"content w-100 h-100",raw:"'content w-100 h-100'",range:[13,34]},range:[0,34]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"box",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"box",raw:"'box'",range:[13,18]},range:[0,18]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column column-200",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"column column-200",raw:"'column column-200'",range:[13,32]},range:[0,32]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"h-25 d-flex flex-column d-flex justify-content-start gap-1",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"h-25 d-flex flex-column d-flex justify-content-start gap-1",raw:"'h-25 d-flex flex-column d-flex justify-content-start gap-1'",range:[13,73]},range:[0,73]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{inputs:[{name:"of",value:"examples",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"of",range:[5,7]},computed:!1,optional:!1,range:[0,7]},right:{type:"Identifier",name:"examples",range:[0,8]}},type:"LiveAttribute"}],name:"*for",value:"let name of examples",node:{attributes:[],inputs:[],outputs:[{name:"click",value:"loadExample(name)",expression:{type:"CallExpression",callee:{type:"Identifier",name:"loadExample",range:[0,11]},arguments:[{type:"Identifier",name:"name",range:[12,16]}],optional:!1,range:[0,17]},type:"LiveAttribute"}],attributeDirectives:[{attributes:[{name:"class",value:"btn",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"btn",raw:"'btn'",range:[13,18]},range:[0,18]},type:"ElementAttribute"}],inputs:[{name:"class",value:"{'btn-outline-primary': example == name, 'btn-link': example != name}",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,10]},computed:!1,optional:!1,range:[0,10]},right:{type:"ObjectExpression",properties:[{type:"Property",key:{type:"Literal",value:"btn-outline-primary",raw:"'btn-outline-primary'",range:[2,23]},value:{type:"BinaryExpression",operator:"==",left:{type:"Identifier",name:"example",range:[25,32]},right:{type:"Identifier",name:"name",range:[36,40]},range:[25,40]},kind:"init",range:[2,40]},{type:"Property",key:{type:"Literal",value:"btn-link",raw:"'btn-link'",range:[42,52]},value:{type:"UnaryExpression",operator:"!",argument:{type:"BinaryExpression",operator:"==",left:{type:"Identifier",name:"example",range:[54,61]},right:{type:"Identifier",name:"name",range:[65,69]},range:[54,69]},prefix:!0,range:[62,69]},kind:"init",range:[42,69]}],range:[1,70]}},type:"LiveAttribute"}],outputs:[],name:"class",type:"DomAttributeDirectiveNode"}],children:[{name:"textContent",value:"name |> replaceUnderscore |> titlecase",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"PipelineExpression",left:{type:"PipelineExpression",left:{type:"Identifier",name:"name",range:[0,4]},right:{type:"Identifier",name:"replaceUnderscore",range:[8,25]},arguments:[],range:[0,25]},right:{type:"Identifier",name:"titlecase",range:[29,38]},arguments:[],range:[0,38]}},pipelineNames:["titlecase","replaceUnderscore"],type:"LiveTextContent"}],tagName:"button",type:"DomElementNode"},templateExpressions:[{type:"VariableDeclaration",kind:"let",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"name",range:[4,8]},init:{type:"Identifier",name:"$implicit"},range:[1,4]}],range:[0,4]}],type:"DomStructuralDirectiveNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"column",raw:"'column'",range:[13,21]},range:[0,21]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"/moduleB",type:"TextContent"}],tagName:"h5",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"cols",value:40,expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"cols",range:[5,9]},computed:!1,optional:!1,range:[0,9]},right:{type:"Literal",value:"40",raw:"'40'",range:[12,16]},range:[0,16]},type:"ElementAttribute"},{name:"rows",value:500,expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"rows",range:[5,9]},computed:!1,optional:!1,range:[0,9]},right:{type:"Literal",value:"500",raw:"'500'",range:[12,17]},range:[0,17]},type:"ElementAttribute"}],children:[{name:"textContent",value:"...",type:"TextContent"}],tagName:"textarea",templateRefName:{name:"moduleB",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"column",raw:"'column'",range:[13,21]},range:[0,21]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"/moduleA",type:"TextContent"}],tagName:"h5",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"cols",value:40,expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"cols",range:[5,9]},computed:!1,optional:!1,range:[0,9]},right:{type:"Literal",value:"40",raw:"'40'",range:[12,16]},range:[0,16]},type:"ElementAttribute"},{name:"rows",value:200,expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"rows",range:[5,9]},computed:!1,optional:!1,range:[0,9]},right:{type:"Literal",value:"200",raw:"'200'",range:[12,17]},range:[0,17]},type:"ElementAttribute"}],children:[{name:"textContent",value:"...",type:"TextContent"}],tagName:"textarea",templateRefName:{name:"moduleA",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"column",raw:"'column'",range:[13,21]},range:[0,21]},type:"ElementAttribute"}],children:[{children:[{name:"textContent",value:"ast",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"Identifier",name:"ast",range:[0,3]}},type:"LiveTextContent"}],tagName:"pre",type:"DomElementNode"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"column",raw:"'column'",range:[13,21]},range:[0,21]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"d-flex flex-column",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"d-flex flex-column",raw:"'d-flex flex-column'",range:[13,33]},range:[0,33]},type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-success",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"text-success",raw:"'text-success'",range:[13,27]},range:[0,27]},type:"ElementAttribute"}],children:[{name:"textContent",value:"str",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"Identifier",name:"str",range:[0,3]}},type:"LiveTextContent"}],tagName:"pre",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"btn btn-outline-primary",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"btn btn-outline-primary",raw:"'btn btn-outline-primary'",range:[13,38]},range:[0,38]},type:"ElementAttribute"}],outputs:[{name:"click",value:"executeCode()",expression:{type:"CallExpression",callee:{type:"Identifier",name:"executeCode",range:[0,11]},arguments:[],optional:!1,range:[0,13]},type:"LiveAttribute"}],children:[{name:"textContent",value:"Run",type:"TextContent"}],tagName:"button",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-secondary",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"text-secondary",raw:"'text-secondary'",range:[13,29]},range:[0,29]},type:"ElementAttribute"}],tagName:"pre",templateRefName:{name:"logs",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-danger",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,11]},computed:!1,optional:!1,range:[0,11]},right:{type:"Literal",value:"text-danger",raw:"'text-danger'",range:[13,26]},range:[0,26]},type:"ElementAttribute"}],tagName:"pre",templateRefName:{name:"error",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"}],type:"DomFragmentNode"},signals:[{signal:"viewChild",options:[{name:"moduleA",alias:"moduleA"},{name:"moduleB",alias:"moduleB"},{name:"logs",alias:"logs"},{name:"error",alias:"error"}]}]})],m=[];return class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,r.G4)(null,e={value:t},l,{kind:"class",name:t.name,metadata:n},null,m),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,r.zF)(t,m)}ast="";str="";node;moduleA=(0,a.ebz)("moduleA");moduleB=(0,a.ebz)("moduleB");logs=(0,a.ebz)("logs");error=(0,a.ebz)("error");examples=["FUNCTION_SCOPES","IMPORT_ALL","IMPORT_DEFAULT","IMPORT_NAMED","IMPORT_NAMED_ALIAS","PLAY","CLASS_EXAMPLE","CLASS_SUPER_EXAMPLE"];example;_cd=(0,a.WQX)(a.gRc);onInit(){this.loadExample("FUNCTION_SCOPES")}loadExample(e){this.example=e,n.e(535).then(n.bind(n,535)).then((e=>(this.error.get().innerText="",e))).then((t=>this.loadCode(t[e]))).then((e=>this.moduleB.get().value=e)).then((()=>this._cd.detectChanges()))}afterViewInit(){(0,o.R)(this.moduleB.get(),"change").pipe((0,p.T)((()=>this.moduleB.get().value)),(0,i.B)(400),(0,s.F)()).subscribe((e=>this.loadCode(e))),n.e(535).then(n.bind(n,535)).then((e=>this.moduleA.get().value=e.MODULE_A))}loadCode(e){if(!e)return this.ast="",void(this.str="");try{const t=a.pmW.parse(e,{mode:a.Adm.Strict});this.ast=JSON.stringify(t.toJSON(),void 0,2),this.str=t.toString(),this.node=t}catch(e){this.error.get().innerText=e.stack??e??"exception",console.error(e)}finally{this._cd.detectChanges()}return e}stringify(e){return"object"!=typeof e?e:JSON.stringify(e,void 0,1)}executeCode(){this.logs.get().innerText="",this.error.get().innerText="";try{const e={log:(...e)=>{this.logs.get().innerText+=e.map((e=>this.stringify(e))).join(" ").concat("\n"),console.log(...e)}};e.log("run code...");const t={Object,console:e},n=new a.BJc(a.HGh.for(t)),r={"/moduleA":this.moduleA.get().value,"/moduleB":this.moduleB.get().value};new a.x4m(n,r,{allowImportExternal:!1}).resolve("/moduleB")}catch(e){this.error.get().innerText=e.stack??e??"exception",console.error(e)}finally{this._cd.detectChanges()}}replaceUnderscore(e){return e.replace(/_/g," ")}},t})()}}]);