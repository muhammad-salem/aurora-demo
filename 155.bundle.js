"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[155],{869:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(608);function a(e,t,n,r,a){return new o(e,t,n,r,a)}var o=function(e){function t(t,n,r,a,o,i){var l=e.call(this,t)||this;return l.onFinalize=o,l.shouldUnsubscribe=i,l._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return(0,r.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(852).vU)},45:(e,t,n)=>{n.d(t,{T:()=>o});var r=n(185),a=n(869);function o(e,t){return(0,r.N)((function(n,r){var o=0;n.subscribe((0,a._)(r,(function(n){r.next(e.call(t,n,o++))})))}))}},185:(e,t,n)=>{n.d(t,{N:()=>a});var r=n(460);function a(e){return function(t){if(function(e){return(0,r.T)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},155:(e,t,n)=>{n.r(t),n.d(t,{ExpressionEditorComponent:()=>w});var r=n(608),a=n(684),o=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},i=n(460),l=n(509),u=n(805),s="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",c=n(585);function m(e){if(e instanceof l.c)return e;if(null!=e){if(function(e){return(0,i.T)(e[u.s])}(e))return d=e,new l.c((function(e){var t=d[u.s]();if((0,i.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(o(e))return m=e,new l.c((function(e){for(var t=0;t<m.length&&!e.closed;t++)e.next(m[t]);e.complete()}));if(a=e,(0,i.T)(null==a?void 0:a.then))return n=e,new l.c((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,c.m)}));if(function(e){return Symbol.asyncIterator&&(0,i.T)(null==e?void 0:e[Symbol.asyncIterator])}(e))return p(e);if(function(e){return(0,i.T)(null==e?void 0:e[s])}(e))return t=e,new l.c((function(e){var n,a;try{for(var o=(0,r.Ju)(t),i=o.next();!i.done;i=o.next()){var l=i.value;if(e.next(l),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return(0,i.T)(null==e?void 0:e.getReader)}(e))return p(function(e){return(0,r.AQ)(this,arguments,(function(){var t,n,a;return(0,r.YH)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.N3)(t.read())];case 3:return n=o.sent(),a=n.value,n.done?[4,(0,r.N3)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,r.N3)(a)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,a,m,d;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function p(e){return new l.c((function(t){(function(e,t){var n,a,o,i;return(0,r.sH)(this,void 0,void 0,(function(){var l,u;return(0,r.YH)(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=(0,r.xN)(e),s.label=1;case 1:return[4,n.next()];case 2:if((a=s.sent()).done)return[3,4];if(l=a.value,t.next(l),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),o={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),a&&!a.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var d=n(45),y=n(185),f=n(869);function v(e,t,n){return void 0===n&&(n=1/0),(0,i.T)(t)?v((function(n,r){return(0,d.T)((function(e,a){return t(n,e,r,a)}))(m(e(n,r)))}),n):("number"==typeof t&&(n=t),(0,y.N)((function(t,r){return function(e,t,n,r){var a=[],o=0,i=0,l=!1,u=function(){!l||a.length||o||t.complete()},s=function(e){return o<r?c(e):a.push(e)},c=function(e){o++;var l=!1;m(n(e,i++)).subscribe((0,f._)(t,(function(e){t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{o--;for(var e=function(){var e=a.shift();c(e)};a.length&&o<r;)e();u()}catch(e){t.error(e)}})))};return e.subscribe((0,f._)(t,s,(function(){l=!0,u()}))),function(){}}(t,r,e,n)})))}var x=Array.isArray;var b=["addListener","removeListener"],h=["addEventListener","removeEventListener"],g=["on","off"];function C(e,t,n,a){if((0,i.T)(n)&&(a=n,n=void 0),a)return C(e,t,n).pipe((u=a,(0,d.T)((function(e){return function(e,t){return x(t)?e.apply(void 0,(0,r.fX)([],(0,r.zs)(t))):e(t)}(u,e)}))));var u,s=(0,r.zs)(function(e){return(0,i.T)(e.addEventListener)&&(0,i.T)(e.removeEventListener)}(e)?h.map((function(r){return function(a){return e[r](t,a,n)}})):function(e){return(0,i.T)(e.addListener)&&(0,i.T)(e.removeListener)}(e)?b.map(E(e,t)):function(e){return(0,i.T)(e.on)&&(0,i.T)(e.off)}(e)?g.map(E(e,t)):[],2),c=s[0],p=s[1];if(!c&&o(e))return v((function(e){return C(e,t,n)}))(m(e));if(!c)throw new TypeError("Invalid event target");return new l.c((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return c(t),function(){return p(t)}}))}function E(e,t){return function(n){return function(r){return e[n](t,r)}}}var T=n(712),N=n(254);function A(e,t){return e===t}let w=(()=>{let e,t,o,i,l,u,s=[(0,a.uAl)({selector:"expression-editor",zone:"manual",compiledTemplate:{children:[{children:[{name:"textContent",value:"tyle",type:"TextContent"}],tagName:"style",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"},{attributes:[{name:"class",value:"content w-100 h-100",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"box",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column column1",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"h-25 d-flex flex-column d-flex justify-content-start gap-1",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{inputs:[{name:"forOf",value:"examples",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"forOf",range:[5,10]},computed:!1,optional:!1,range:[0,10]},right:{type:"Identifier",name:"examples",range:[0,8]}},type:"LiveAttribute"}],name:"*for",value:"let name of examples",node:{attributes:[{name:"class",value:"btn",type:"ElementAttribute"}],inputs:[{name:"class",value:"{'btn-outline-primary': example == name, 'btn-link': example != name}",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"class",range:[5,10]},computed:!1,optional:!1,range:[0,10]},right:{type:"ObjectExpression",properties:[{type:"Property",key:{type:"Literal",value:"btn-outline-primary",raw:"'btn-outline-primary'",range:[2,23]},value:{type:"BinaryExpression",operator:"==",left:{type:"Identifier",name:"example",range:[25,32]},right:{type:"Identifier",name:"name",range:[36,40]},range:[25,40]},kind:"init",range:[2,40]},{type:"Property",key:{type:"Literal",value:"btn-link",raw:"'btn-link'",range:[42,52]},value:{type:"UnaryExpression",operator:"!",argument:{type:"BinaryExpression",operator:"==",left:{type:"Identifier",name:"example",range:[54,61]},right:{type:"Identifier",name:"name",range:[65,69]},range:[54,69]},prefix:!0,range:[62,69]},kind:"init",range:[42,69]}],range:[1,70]}},type:"LiveAttribute"}],outputs:[{name:"click",value:"loadExample(name)",expression:{type:"CallExpression",callee:{type:"Identifier",name:"loadExample",range:[0,11]},arguments:[{type:"Identifier",name:"name",range:[12,16]}],optional:!1,range:[0,17]},type:"LiveAttribute"}],attributeDirectives:[{name:"class",type:"DomAttributeDirectiveNode"}],children:[{name:"textContent",value:"name |> replaceUnderscore |> titlecase",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"PipelineExpression",left:{type:"PipelineExpression",left:{type:"Identifier",name:"name",range:[0,4]},right:{type:"Identifier",name:"replaceUnderscore",range:[8,25]},arguments:[],range:[0,25]},right:{type:"Identifier",name:"titlecase",range:[29,38]},arguments:[],range:[0,38]}},pipelineNames:["titlecase","replaceUnderscore"],type:"LiveTextContent"}],tagName:"button",type:"DomElementNode"},templateExpressions:[{type:"VariableDeclaration",kind:"let",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"name",range:[4,8]},init:{type:"Identifier",name:"$implicit"},range:[1,4]}],range:[0,4]}],type:"DomStructuralDirectiveNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"/moduleB",type:"TextContent"}],tagName:"h5",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"cols",value:40,type:"ElementAttribute"},{name:"rows",value:500,type:"ElementAttribute"}],children:[{name:"textContent",value:"...",type:"TextContent"}],tagName:"textarea",templateRefName:{name:"moduleB",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{children:[{name:"textContent",value:"/moduleA",type:"TextContent"}],tagName:"h5",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"cols",value:40,type:"ElementAttribute"},{name:"rows",value:200,type:"ElementAttribute"}],children:[{name:"textContent",value:"...",type:"TextContent"}],tagName:"textarea",templateRefName:{name:"moduleA",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",type:"ElementAttribute"}],children:[{children:[{name:"textContent",value:"ast",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"Identifier",name:"ast",range:[0,3]}},type:"LiveTextContent"}],tagName:"pre",type:"DomElementNode"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"column",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"d-flex flex-column",type:"ElementAttribute"}],children:[{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-success",type:"ElementAttribute"}],children:[{name:"textContent",value:"str",expression:{type:"OneWayAssignment",operator:"=:",left:{type:"MemberExpression",object:{type:"ThisExpression",range:[0,4]},property:{type:"Identifier",name:"textContent",range:[5,16]},computed:!1,optional:!1,range:[0,16]},right:{type:"Identifier",name:"str",range:[0,3]}},type:"LiveTextContent"}],tagName:"pre",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"btn btn-outline-primary",type:"ElementAttribute"}],outputs:[{name:"click",value:"executeCode()",expression:{type:"CallExpression",callee:{type:"Identifier",name:"executeCode",range:[0,11]},arguments:[],optional:!1,range:[0,13]},type:"LiveAttribute"}],children:[{name:"textContent",value:"Run",type:"TextContent"}],tagName:"button",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-secondary",type:"ElementAttribute"}],tagName:"pre",templateRefName:{name:"logs",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t\t",type:"TextContent"},{attributes:[{name:"class",value:"text-danger",type:"ElementAttribute"}],tagName:"pre",templateRefName:{name:"error",value:"",type:"Attribute"},type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"}],tagName:"div",type:"DomElementNode"},{name:"textContent",value:"\n\t\t",type:"TextContent"}],type:"DomFragmentNode"}})],c=[],m=[],p=[],v=[],x=[],b=[],h=[],g=[],E=[];return class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o=[(0,a.Uct)("moduleA")],i=[(0,a.Uct)("moduleB")],l=[(0,a.Uct)("logs")],u=[(0,a.Uct)("error")],(0,r.G4)(null,null,o,{kind:"field",name:"moduleA",static:!1,private:!1,access:{has:e=>"moduleA"in e,get:e=>e.moduleA,set:(e,t)=>{e.moduleA=t}},metadata:n},m,p),(0,r.G4)(null,null,i,{kind:"field",name:"moduleB",static:!1,private:!1,access:{has:e=>"moduleB"in e,get:e=>e.moduleB,set:(e,t)=>{e.moduleB=t}},metadata:n},v,x),(0,r.G4)(null,null,l,{kind:"field",name:"logs",static:!1,private:!1,access:{has:e=>"logs"in e,get:e=>e.logs,set:(e,t)=>{e.logs=t}},metadata:n},b,h),(0,r.G4)(null,null,u,{kind:"field",name:"error",static:!1,private:!1,access:{has:e=>"error"in e,get:e=>e.error,set:(e,t)=>{e.error=t}},metadata:n},g,E),(0,r.G4)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,c),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,r.zF)(t,c)}_cd;ast="";str="";node;moduleA=(0,r.zF)(this,m,void 0);moduleB=((0,r.zF)(this,p),(0,r.zF)(this,v,void 0));logs=((0,r.zF)(this,x),(0,r.zF)(this,b,void 0));error=((0,r.zF)(this,h),(0,r.zF)(this,g,void 0));examples=((0,r.zF)(this,E),["FUNCTION_SCOPES","IMPORT_ALL","IMPORT_DEFAULT","IMPORT_NAMED","IMPORT_NAMED_ALIAS","PLAY","CLASS_EXAMPLE","CLASS_SUPER_EXAMPLE"]);example;constructor(e){this._cd=e}onInit(){this.loadExample("FUNCTION_SCOPES")}loadExample(e){this.example=e,n.e(535).then(n.bind(n,535)).then((e=>(this.error.innerText="",e))).then((t=>this.loadCode(t[e]))).then((e=>this.moduleB.value=e)).then((()=>this._cd.detectChanges()))}afterViewInit(){var e,t,r;C(this.moduleB,"change").pipe((0,d.T)((()=>this.moduleB.value)),(void 0===r&&(r=T.E),(0,y.N)((function(e,t){var n=null,a=null,o=null,i=function(){if(n){n.unsubscribe(),n=null;var e=a;a=null,t.next(e)}};function l(){var e=o+400,a=r.now();if(a<e)return n=this.schedule(void 0,e-a),void t.add(n);i()}e.subscribe((0,f._)(t,(function(e){a=e,o=r.now(),n||(n=r.schedule(l,400),t.add(n))}),(function(){i(),t.complete()}),void 0,(function(){a=n=null})))}))),(void 0===t&&(t=N.D),e=null!=e?e:A,(0,y.N)((function(n,r){var a,o=!0;n.subscribe((0,f._)(r,(function(n){var i=t(n);!o&&e(a,i)||(o=!1,a=i,r.next(n))})))})))).subscribe((e=>this.loadCode(e))),n.e(535).then(n.bind(n,535)).then((e=>this.moduleA.value=e.MODULE_A))}loadCode(e){if(!e)return this.ast="",void(this.str="");try{const t=a.pmW.parse(e,{mode:a.Adm.Strict});this.ast=JSON.stringify(t.toJSON(),void 0,2),this.str=t.toString(),this.node=t}catch(e){this.error.innerText=e.stack??e??"exception",console.error(e)}finally{this._cd.detectChanges()}return e}stringify(e){return"object"!=typeof e?e:JSON.stringify(e,void 0,1)}executeCode(){this.logs.innerText="",this.error.innerText="";try{const e={log:(...e)=>{this.logs.innerText+=e.map((e=>this.stringify(e))).join(" ").concat("\n"),console.log(...e)}};e.log("run code...");const t={Object,console:e},n=new a.BJc(a.HGh.for(t)),r={"/moduleA":this.moduleA.value,"/moduleB":this.moduleB.value};new a.x4m(n,r,{allowImportExternal:!1}).resolve("/moduleB")}catch(e){this.error.innerText=e.stack??e??"exception",console.error(e)}finally{this._cd.detectChanges()}}replaceUnderscore(e){return e.replace(/_/g," ")}},t})()}}]);